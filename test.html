<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>模块测试</title>
</head>
<body>
    <h1>模块测试页面</h1>
    <div id="test-results"></div>
    
    <script type="module">
        // 导入我们创建的模块进行测试
        import Filters from './js/filters.js';
        import * as Scrolls from './js/scrolls.js';
        import * as Settings from './js/settings.js';
        import UI from './js/ui.js';
        
        const testResults = document.getElementById('test-results');
        let allTestsPassed = true;
        
        // 测试模块导入
        function testModuleImport() {
            try {
                console.log('Filters:', typeof Filters);
                console.log('Scrolls:', typeof Scrolls);
                console.log('Settings:', typeof Settings);
                console.log('UI:', typeof UI);
                
                return true;
            } catch (error) {
                console.error('模块导入测试失败:', error);
                return false;
            }
        }
        
        // 测试各个模块的基本功能
        function testModuleFunctions() {
            let testsPassed = true;
            
            // 测试Filters模块
            try {
                console.log('Filters模块方法:', Object.keys(Filters));
            } catch (error) {
                console.error('Filters模块测试失败:', error);
                testsPassed = false;
            }
            
            // 测试Scrolls模块
            try {
                console.log('Scrolls模块方法:', Object.keys(Scrolls));
            } catch (error) {
                console.error('Scrolls模块测试失败:', error);
                testsPassed = false;
            }
            
            // 测试Settings模块
            try {
                console.log('Settings模块方法:', Object.keys(Settings));
            } catch (error) {
                console.error('Settings模块测试失败:', error);
                testsPassed = false;
            }
            
            // 测试UI模块
            try {
                console.log('UI模块方法:', Object.keys(UI));
            } catch (error) {
                console.error('UI模块测试失败:', error);
                testsPassed = false;
            }
            
            return testsPassed;
        }
        
        // 运行所有测试
        function runAllTests() {
            testResults.innerHTML = '<h2>测试结果:</h2>';
            
            // 测试模块导入
            const importTestResult = testModuleImport();
            const importResultElement = document.createElement('p');
            importResultElement.textContent = `模块导入测试: ${importTestResult ? '通过' : '失败'}`;
            importResultElement.style.color = importTestResult ? 'green' : 'red';
            testResults.appendChild(importResultElement);
            
            if (!importTestResult) {
                allTestsPassed = false;
            }
            
            // 测试模块功能
            const functionsTestResult = testModuleFunctions();
            const functionsResultElement = document.createElement('p');
            functionsResultElement.textContent = `模块功能测试: ${functionsTestResult ? '通过' : '失败'}`;
            functionsResultElement.style.color = functionsTestResult ? 'green' : 'red';
            testResults.appendChild(functionsResultElement);
            
            if (!functionsTestResult) {
                allTestsPassed = false;
            }
            
            // 显示最终结果
            const finalResultElement = document.createElement('h3');
            finalResultElement.textContent = `所有测试: ${allTestsPassed ? '通过' : '失败'}`;
            finalResultElement.style.color = allTestsPassed ? 'green' : 'red';
            testResults.appendChild(finalResultElement);
            
            if (allTestsPassed) {
                console.log('所有测试通过！');
            } else {
                console.error('部分测试失败！');
            }
        }
        
        // 页面加载完成后运行测试
        window.addEventListener('load', runAllTests);
    </script>
</body>
</html>